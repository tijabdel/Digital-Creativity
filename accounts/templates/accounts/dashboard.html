{% extends "housing/base.html" %}
{% block title %}Dashboard • Student Housing{% endblock %}

{% block content %}
<h1>Dashboard</h1>
<p>Welcome, <strong>{{ request.user.username }}</strong>.</p>

<div class="actions">
  <a class="btn" href="{% url 'city_list' %}">Browse Cities</a>
  <a class="btn btn--ghost" href="{% url 'room_search' %}">Search Rooms</a>
  {% if request.user.is_staff %}
    <a class="btn btn--ghost" href="/admin/">Admin Panel</a>
  {% endif %}
</div>

<h3>Your booking requests</h3>

<ul class="card-list">
  {% for r in requests %}
    <li class="card">
      <div><strong>{{ r.room.house.name }}</strong> — {{ r.room.house.city.name }}</div>
      <div>Room {{ r.room.number }} | Floor {{ r.room.floor }} | Type: {{ r.room.get_room_type_display }}</div>
      <div>Status: <strong>{{ r.get_status_display }}</strong> | Check-in: {{ r.check_in }}</div>
    </li>
  {% empty %}
    <li class="card">No booking requests yet.</li>
  {% endfor %}
</ul>
{% endblock %}
